<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ4 - –ö—Ä—É—á–µ–Ω–∏–µ</title>
    <link rel="stylesheet" href="/static/animation_styles.css" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 15px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }

      .header {
        background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
        color: white;
        padding: 30px;
        text-align: center;
      }

      .header h1 {
        font-size: 2.2em;
        margin-bottom: 10px;
        font-weight: 300;
      }

      .header .subtitle {
        font-size: 1.1em;
        opacity: 0.9;
        margin-bottom: 10px;
      }

      .student-info {
        background: rgba(255, 255, 255, 0.1);
        padding: 10px 20px;
        border-radius: 25px;
        display: inline-block;
        font-weight: 500;
      }

      .tabs {
        display: flex;
        background: #f8f9fa;
        border-bottom: 1px solid #dee2e6;
      }

      .tab {
        flex: 1;
        padding: 15px 20px;
        background: #f8f9fa;
        border: none;
        cursor: pointer;
        font-size: 16px;
        font-weight: 500;
        transition: all 0.3s;
        border-bottom: 3px solid transparent;
      }

      .tab.active {
        background: white;
        border-bottom: 3px solid #3498db;
        color: #3498db;
      }

      .tab:hover {
        background: #e9ecef;
      }

      .tab-content {
        display: none;
        padding: 30px;
      }

      .tab-content.active {
        display: block;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-row {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
      }

      .form-col {
        flex: 1;
        min-width: 250px;
      }

      label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
        color: #2c3e50;
      }

      input,
      select {
        width: 100%;
        padding: 12px 15px;
        border: 2px solid #e1e5e9;
        border-radius: 8px;
        font-size: 16px;
        transition: border-color 0.3s;
      }

      input:focus,
      select:focus {
        outline: none;
        border-color: #3498db;
        box-shadow: 0 0 0 3px rgba(52, 152, 219, 0.1);
      }

      .btn {
        background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s;
        margin-right: 10px;
        margin-bottom: 10px;
      }

      .btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(52, 152, 219, 0.3);
      }

      .btn-secondary {
        background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%);
      }

      .btn-success {
        background: linear-gradient(135deg, #27ae60 0%, #229954 100%);
      }

      .result-card {
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border-radius: 10px;
        padding: 25px;
        margin-top: 20px;
        border-left: 5px solid #3498db;
      }

      .result-value {
        font-size: 1.5em;
        font-weight: bold;
        color: #2c3e50;
        margin: 10px 0;
      }

      .graph-container {
        text-align: center;
        margin-top: 30px;
        padding: 20px;
        background: #f8f9fa;
        border-radius: 10px;
      }

      .graph-container img {
        max-width: 100%;
        height: auto;
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .alert {
        padding: 15px;
        border-radius: 8px;
        margin-bottom: 20px;
        font-weight: 500;
      }

      .alert-warning {
        background: #fff3cd;
        color: #856404;
        border: 1px solid #ffeaa7;
      }

      .alert-error {
        background: #f8d7da;
        color: #721c24;
        border: 1px solid #f5c6cb;
      }

      .alert-success {
        background: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
      }

      .database-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 20px;
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .database-table th {
        background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        color: white;
        padding: 15px 10px;
        text-align: left;
        font-weight: 600;
      }

      .database-table td {
        padding: 12px 10px;
        border-bottom: 1px solid #e9ecef;
      }

      .database-table tr:hover {
        background: #f8f9fa;
      }

      .explanation {
        background: linear-gradient(135deg, #e8f4f8 0%, #d6eaf8 100%);
        border-radius: 10px;
        padding: 25px;
        margin-top: 20px;
        border-left: 5px solid #3498db;
      }

      .explanation h3 {
        color: #2c3e50;
        margin-bottom: 15px;
        font-size: 1.3em;
      }

      .explanation p {
        line-height: 1.6;
        color: #34495e;
        margin-bottom: 10px;
      }

      .loading {
        text-align: center;
        padding: 20px;
        color: #7f8c8d;
      }

      .spinner {
        border: 4px solid #f3f3f3;
        border-top: 4px solid #3498db;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        animation: spin 1s linear infinite;
        margin: 20px auto;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      .experiment-data {
        margin-top: 20px;
      }

      .data-row {
        display: flex;
        gap: 10px;
        margin-bottom: 10px;
        align-items: center;
      }

      .data-row input {
        flex: 1;
      }

      .remove-btn {
        background: #e74c3c;
        color: white;
        border: none;
        border-radius: 50%;
        width: 35px;
        height: 35px;
        cursor: pointer;
        font-size: 18px;
      }

      @media (max-width: 768px) {
        .form-row {
          flex-direction: column;
        }

        .tabs {
          flex-direction: column;
        }

        .database-table {
          font-size: 14px;
        }

        .database-table th,
        .database-table td {
          padding: 8px 5px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ ‚Ññ4</h1>
        <div class="subtitle">
          –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è —É–ø—Ä—É–≥–æ—Å—Ç–∏ –≤—Ç–æ—Ä–æ–≥–æ —Ä–æ–¥–∞ –ø—Ä–∏ –∫—Ä—É—á–µ–Ω–∏–∏ —Å—Ç–∞–ª–∏, —á—É–≥—É–Ω–∞,
          –¥–µ—Ä–µ–≤–∞
        </div>
        <div class="student-info">{{ student_info }}</div>
      </div>

      <div class="tabs">
        <button class="tab active" onclick="showTab('calculation')">
          –†–∞—Å—á–µ—Ç
        </button>
        <button class="tab" onclick="showTab('experiment')">–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç</button>
        <button class="tab" onclick="showTab('database')">–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö</button>
        <button class="tab" onclick="showTab('theory')">–¢–µ–æ—Ä–∏—è</button>
      </div>

      <!-- –í–∫–ª–∞–¥–∫–∞ —Ä–∞—Å—á–µ—Ç–∞ -->
      <div id="calculation" class="tab-content active">
        <form id="calculationForm">
          <div class="form-row">
            <div class="form-col">
              <div class="form-group">
                <label for="material">–ú–∞—Ç–µ—Ä–∏–∞–ª:</label>
                <select id="material" name="material" required>
                  {% for material in materials %}
                  <option value="{{ material }}">{{ material }}</option>
                  {% endfor %}
                </select>
              </div>

              <div class="form-group">
                <label for="length">–î–ª–∏–Ω–∞ –æ–±—Ä–∞–∑—Ü–∞ (–º–º):</label>
                <input
                  type="number"
                  id="length"
                  name="length"
                  step="0.01"
                  min="0.01"
                  placeholder="100"
                  required
                />
              </div>

              <div class="form-group">
                <label for="diameter">–î–∏–∞–º–µ—Ç—Ä (–º–º):</label>
                <input
                  type="number"
                  id="diameter"
                  name="diameter"
                  step="0.01"
                  min="0.01"
                  placeholder="10"
                  required
                />
              </div>
            </div>

            <div class="form-col">
              <div class="form-group">
                <label for="moment">–ö—Ä—É—Ç—è—â–∏–π –º–æ–º–µ–Ω—Ç (–ù¬∑–º–º):</label>
                <input
                  type="number"
                  id="moment"
                  name="moment"
                  step="0.01"
                  min="0.01"
                  placeholder="1000"
                  required
                />
              </div>

              <div class="form-group">
                <label for="angle">–£–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞ (¬∞):</label>
                <input
                  type="number"
                  id="angle"
                  name="angle"
                  step="0.01"
                  min="0.01"
                  placeholder="10"
                  required
                />
              </div>

              <div class="form-group">
                <button type="submit" class="btn">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
                <button
                  type="button"
                  class="btn btn-secondary"
                  onclick="resetForm()"
                >
                  –°–±—Ä–æ—Å
                </button>
                <button
                  type="button"
                  class="btn btn-success"
                  onclick="showExamplesModal()"
                >
                  üìö –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∏–º–µ—Ä
                </button>
              </div>
            </div>
          </div>
        </form>

        <!-- –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞ –∫—Ä—É—á–µ–Ω–∏—è -->
        <div
          id="torsionAnimationContainer"
          class="animation-container"
          style="display: none"
        >
          <div class="animation-title">–ü—Ä–æ—Ü–µ—Å—Å –∫—Ä—É—á–µ–Ω–∏—è –æ–±—Ä–∞–∑—Ü–∞</div>

          <div class="progress-steps">
            <div class="progress-step" id="step1">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞</div>
            <div class="progress-step" id="step2">–ù–∞–≥—Ä—É–∂–µ–Ω–∏–µ</div>
            <div class="progress-step" id="step3">–î–µ—Ñ–æ—Ä–º–∞—Ü–∏—è</div>
            <div class="progress-step" id="step4">–†–∞—Å—á–µ—Ç</div>
          </div>

          <div id="animationCanvas"></div>

          <div class="calculation-progress" id="calculationProgress">
            <div class="loading-spinner"></div>
            <span id="progressText"
              >–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–∞—Å—á–µ—Ç –º–æ–¥—É–ª—è —É–ø—Ä—É–≥–æ—Å—Ç–∏...</span
            >
          </div>
        </div>

        <div id="calculationResult"></div>
        <div id="graphContainer"></div>
      </div>

      <!-- –í–∫–ª–∞–¥–∫–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞ -->
      <div id="experiment" class="tab-content">
        <h3>–ê–Ω–∞–ª–∏–∑ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö</h3>
        <p>
          –í–≤–µ–¥–∏—Ç–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ: –ú–æ–º–µ–Ω—Ç (–ù¬∑–º–º) –∏ –£–≥–æ–ª (¬∞)
        </p>

        <div class="form-row">
          <div class="form-col">
            <div class="form-group">
              <label for="exp_length">–î–ª–∏–Ω–∞ –æ–±—Ä–∞–∑—Ü–∞ (–º–º):</label>
              <input
                type="number"
                id="exp_length"
                step="0.01"
                min="0.01"
                value="100"
                required
              />
            </div>
          </div>
          <div class="form-col">
            <div class="form-group">
              <label for="exp_diameter">–î–∏–∞–º–µ—Ç—Ä (–º–º):</label>
              <input
                type="number"
                id="exp_diameter"
                step="0.01"
                min="0.01"
                value="10"
                required
              />
            </div>
          </div>
        </div>

        <div class="experiment-data">
          <h4>–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ç–æ—á–∫–∏:</h4>
          <div id="dataPoints">
            <div class="data-row">
              <input
                type="number"
                placeholder="–ú–æ–º–µ–Ω—Ç (–ù¬∑–º–º)"
                step="0.01"
                class="moment-input"
              />
              <input
                type="number"
                placeholder="–£–≥–æ–ª (¬∞)"
                step="0.01"
                class="angle-input"
              />
              <button
                type="button"
                class="remove-btn"
                onclick="removeDataPoint(this)"
              >
                √ó
              </button>
            </div>
          </div>
          <button
            type="button"
            class="btn btn-secondary"
            onclick="addDataPoint()"
          >
            –î–æ–±–∞–≤–∏—Ç—å —Ç–æ—á–∫—É
          </button>
          <button type="button" class="btn" onclick="analyzeExperiment()">
            –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
          </button>
        </div>

        <div id="experimentResult"></div>
      </div>

      <!-- –í–∫–ª–∞–¥–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö -->
      <div id="database" class="tab-content">
        <h3>–°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</h3>
        <button class="btn btn-secondary" onclick="loadDatabase()">
          –û–±–Ω–æ–≤–∏—Ç—å
        </button>
        <div id="databaseContent">
          <div class="loading">
            <div class="spinner"></div>
            –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...
          </div>
        </div>
      </div>

      <!-- –í–∫–ª–∞–¥–∫–∞ —Ç–µ–æ—Ä–∏–∏ -->
      <div id="theory" class="tab-content">
        <div class="explanation">
          <h3>–¢–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –æ—Å–Ω–æ–≤—ã</h3>
          <p>
            <strong>–ú–æ–¥—É–ª—å —É–ø—Ä—É–≥–æ—Å—Ç–∏ –≤—Ç–æ—Ä–æ–≥–æ —Ä–æ–¥–∞ (–º–æ–¥—É–ª—å —Å–¥–≤–∏–≥–∞) G</strong>
            —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É–µ—Ç —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –º–∞—Ç–µ—Ä–∏–∞–ª–∞ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª—è—Ç—å—Å—è –¥–µ—Ñ–æ—Ä–º–∞—Ü–∏–∏ —Å–¥–≤–∏–≥–∞
            –ø—Ä–∏ –∫—Ä—É—á–µ–Ω–∏–∏.
          </p>

          <h4>–û—Å–Ω–æ–≤–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞:</h4>
          <p><strong>G = (M √ó L) / (J √ó Œ∏)</strong></p>
          <p>–≥–¥–µ:</p>
          <ul style="margin-left: 20px; margin-top: 10px">
            <li>M - –∫—Ä—É—Ç—è—â–∏–π –º–æ–º–µ–Ω—Ç (–ù¬∑–º–º)</li>
            <li>L - –¥–ª–∏–Ω–∞ –æ–±—Ä–∞–∑—Ü–∞ (–º–º)</li>
            <li>J - –ø–æ–ª—è—Ä–Ω—ã–π –º–æ–º–µ–Ω—Ç –∏–Ω–µ—Ä—Ü–∏–∏, J = (œÄ √ó d‚Å¥)/32 (–º–º‚Å¥)</li>
            <li>Œ∏ - —É–≥–æ–ª –ø–æ–≤–æ—Ä–æ—Ç–∞ (—Ä–∞–¥–∏–∞–Ω—ã)</li>
          </ul>

          <h4>–£—á–µ—Ç —Å–≤–æ–π—Å—Ç–≤ –º–∞—Ç–µ—Ä–∏–∞–ª–∞:</h4>
          <p><strong>G_—ç—Ñ—Ñ = k √ó G</strong>, –≥–¥–µ k - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–∞:</p>
          <ul style="margin-left: 20px; margin-top: 10px">
            <li>–°—Ç–∞–ª—å: k = 1.0</li>
            <li>–ß—É–≥—É–Ω: k = 0.95</li>
            <li>–î–µ—Ä–µ–≤–æ: k = 0.80</li>
          </ul>

          <h4>–û–±–ª–∞—Å—Ç–∏ –¥–µ—Ñ–æ—Ä–º–∞—Ü–∏–∏:</h4>
          <p><strong>–£–ø—Ä—É–≥–∞—è –æ–±–ª–∞—Å—Ç—å:</strong> Œ∏ ‚â§ Œ∏_–ø—Ä–µ–¥ (–ø—Ä–µ–¥–µ–ª —É–ø—Ä—É–≥–æ—Å—Ç–∏)</p>
          <p>
            <strong>–ü–ª–∞—Å—Ç–∏—á–µ—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å:</strong> Œ∏_–ø—Ä–µ–¥ < Œ∏ < Œ∏_—Ä–∞–∑—Ä (—É–≥–æ–ª
            —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è)
          </p>
          <p>
            –í –ø–ª–∞—Å—Ç–∏—á–µ—Å–∫–æ–π –æ–±–ª–∞—Å—Ç–∏ –º–æ–¥—É–ª—å —É–ø—Ä—É–≥–æ—Å—Ç–∏ –ª–∏–Ω–µ–π–Ω–æ —Å–Ω–∏–∂–∞–µ—Ç—Å—è –¥–æ –Ω—É–ª—è.
          </p>
        </div>
      </div>
    </div>

    <script>
      let lastCalculationData = null;

      function showTab(tabName) {
        // –°–∫—Ä—ã—Ç—å –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
        const tabs = document.querySelectorAll(".tab-content");
        tabs.forEach((tab) => tab.classList.remove("active"));

        const tabButtons = document.querySelectorAll(".tab");
        tabButtons.forEach((btn) => btn.classList.remove("active"));

        // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∫–ª–∞–¥–∫—É
        document.getElementById(tabName).classList.add("active");
        event.target.classList.add("active");

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤–∫–ª–∞–¥–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
        if (tabName === "database") {
          loadDatabase();
        }
      }

      function resetForm() {
        document.getElementById("calculationForm").reset();
        document.getElementById("calculationResult").innerHTML = "";
        document.getElementById("graphContainer").innerHTML = "";
        hideCalculationAnimation();
      }

      function showCalculationAnimation(data) {
        const container = document.getElementById("torsionAnimationContainer");
        const progress = document.getElementById("calculationProgress");

        // –ü–æ–∫–∞–∑–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∞–Ω–∏–º–∞—Ü–∏–∏
        container.style.display = "block";
        progress.classList.add("active");

        // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–ª–∞—Å—Å –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
        container.className = `animation-container material-${data.material.toLowerCase()}`;

        // –ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –∫—Ä—É—á–µ–Ω–∏—è
        if (window.torsionAnimator) {
          startTorsionAnimation(data);
        }

        // –°–±—Ä–æ—Å–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
        resetProgressSteps();
      }

      function stopCalculationAnimation(result = null) {
        const container = document.getElementById("torsionAnimationContainer");
        const progress = document.getElementById("calculationProgress");

        progress.classList.remove("active");

        // –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é —Å –ø–µ—Ä–µ–¥–∞—á–µ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        if (window.torsionAnimator && result) {
          const finalData = {
            material: result.material,
            moment: parseFloat(document.getElementById("moment").value),
            angle: result.effective_angle,
            G_eff: result.G_eff,
          };
          stopTorsionAnimation(finalData);
        } else if (window.torsionAnimator) {
          stopTorsionAnimation();
        }

        // –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å–µ —ç—Ç–∞–ø—ã
        completeAllSteps();

        // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –∞–Ω–∏–º–∞—Ü–∏–∏
        if (result && result.success) {
          showAnimationResult(result);
        }

        // –ù–ï —Å–∫—Ä—ã–≤–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é - –æ—Å—Ç–∞–≤–∏—Ç—å –≤–∏–¥–∏–º–æ–π —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
      }

      function hideCalculationAnimation() {
        const container = document.getElementById("torsionAnimationContainer");
        const progress = document.getElementById("calculationProgress");
        const resultPanel = document.getElementById("animationResultPanel");

        container.style.display = "none";
        progress.classList.remove("active");
        resetProgressSteps();

        // –£–¥–∞–ª–∏—Ç—å –ø–∞–Ω–µ–ª—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        if (resultPanel) {
          resultPanel.remove();
        }

        // –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é
        if (window.torsionAnimator) {
          stopTorsionAnimation();
        }
      }

      async function simulateCalculationSteps() {
        const steps = ["step1", "step2", "step3", "step4"];
        const stepTexts = [
          "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–±—Ä–∞–∑—Ü–∞...",
          "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫—Ä—É—Ç—è—â–µ–≥–æ –º–æ–º–µ–Ω—Ç–∞...",
          "–ò–∑–º–µ—Ä–µ–Ω–∏–µ –¥–µ—Ñ–æ—Ä–º–∞—Ü–∏–∏...",
          "–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –º–æ–¥—É–ª—è —É–ø—Ä—É–≥–æ—Å—Ç–∏...",
        ];

        for (let i = 0; i < steps.length; i++) {
          // –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–π —ç—Ç–∞–ø
          document.getElementById(steps[i]).classList.add("active");
          document.getElementById("progressText").textContent = stepTexts[i];

          // –ó–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ—Å—Ç–∏
          await new Promise((resolve) => setTimeout(resolve, 600));

          // –ó–∞–≤–µ—Ä—à–∏—Ç—å —ç—Ç–∞–ø
          document.getElementById(steps[i]).classList.remove("active");
          document.getElementById(steps[i]).classList.add("completed");
        }
      }

      function resetProgressSteps() {
        const steps = document.querySelectorAll(".progress-step");
        steps.forEach((step) => {
          step.classList.remove("active", "completed");
        });
      }

      function completeAllSteps() {
        const steps = document.querySelectorAll(".progress-step");
        steps.forEach((step) => {
          step.classList.remove("active");
          step.classList.add("completed");
        });
        document.getElementById("progressText").textContent =
          "–†–∞—Å—á–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!";
      }

      function showAnimationResult(result) {
        // –û–±–Ω–æ–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
        if (window.torsionAnimator) {
          // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —É–≥–æ–ª —Ä–∞–≤–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–º—É —É–≥–ª—É
          const finalData = {
            material: result.material,
            moment: parseFloat(document.getElementById("moment").value),
            angle: result.effective_angle,
            G_eff: result.G_eff,
          };

          // –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
          startTorsionAnimation(finalData);
        }

        // –°–æ–∑–¥–∞—Ç—å –ø–∞–Ω–µ–ª—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –∞–Ω–∏–º–∞—Ü–∏–∏
        const animationContainer = document.getElementById(
          "torsionAnimationContainer"
        );
        let resultPanel = document.getElementById("animationResultPanel");

        if (!resultPanel) {
          resultPanel = document.createElement("div");
          resultPanel.id = "animationResultPanel";
          resultPanel.className =
            "calculation-result-preview animation-result-panel";
          animationContainer.appendChild(resultPanel);
        }

        resultPanel.innerHTML = `
           <div style="text-align: center;">
             <h3 style="color: #27ae60; margin-bottom: 15px;">üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–∞</h3>
             <div class="result-row" style="display: flex; justify-content: space-between; margin: 10px 0; padding: 10px; background: rgba(52, 152, 219, 0.1); border-radius: 8px;">
               <span><strong>–ú–∞—Ç–µ—Ä–∏–∞–ª:</strong></span>
               <span class="material-indicator material-${result.material.toLowerCase()}">${
          result.material
        }</span>
             </div>
             <div class="result-row" style="display: flex; justify-content: space-between; margin: 10px 0; padding: 10px; background: rgba(52, 152, 219, 0.1); border-radius: 8px;">
               <span><strong>–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –º–æ–¥—É–ª—å:</strong></span>
               <span class="result-value" style="font-size: 18px; color: #27ae60;">${
                 result.G_eff
               } <span class="result-unit">–ú–ü–∞</span></span>
             </div>
             <div class="result-row" style="display: flex; justify-content: space-between; margin: 10px 0; padding: 10px; background: rgba(52, 152, 219, 0.1); border-radius: 8px;">
               <span><strong>–ë–∞–∑–æ–≤—ã–π –º–æ–¥—É–ª—å:</strong></span>
               <span>${result.G_baseline} –ú–ü–∞</span>
             </div>
             <div class="result-row" style="display: flex; justify-content: space-between; margin: 10px 0; padding: 10px; background: rgba(52, 152, 219, 0.1); border-radius: 8px;">
               <span><strong>–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —É–≥–æ–ª:</strong></span>
               <span>${result.effective_angle}¬∞</span>
             </div>
             ${
               result.warning
                 ? `<div class="alert-warning" style="margin-top: 15px; padding: 10px; background: #fff3cd; color: #856404; border-radius: 8px; font-size: 12px;">${result.warning}</div>`
                 : ""
             }
             <button onclick="hideCalculationAnimation()" class="btn btn-secondary" style="margin-top: 15px;">–°–∫—Ä—ã—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é</button>
           </div>
         `;

        resultPanel.classList.add("show");

        // –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ–∫—Å—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
        document.getElementById("progressText").innerHTML = `
           <span style="color: #27ae60; font-weight: bold;">‚úÖ –ú–æ–¥—É–ª—å —É–ø—Ä—É–≥–æ—Å—Ç–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω: ${result.G_eff} –ú–ü–∞</span>
         `;
      }

      document
        .getElementById("calculationForm")
        .addEventListener("submit", async function (e) {
          e.preventDefault();

          const formData = new FormData(e.target);
          const data = {
            material: formData.get("material"),
            length: parseFloat(formData.get("length")),
            diameter: parseFloat(formData.get("diameter")),
            moment: parseFloat(formData.get("moment")),
            angle: parseFloat(formData.get("angle")),
          };

          try {
            // –ü–æ–∫–∞–∑–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é
            showCalculationAnimation(data);

            // –°–∏–º—É–ª—è—Ü–∏—è —ç—Ç–∞–ø–æ–≤ —Ä–∞—Å—á–µ—Ç–∞
            await simulateCalculationSteps();

            const response = await fetch("/api/calculate", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify(data),
            });

            const result = await response.json();

            if (result.success) {
              lastCalculationData = { ...data, ...result };

              // –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏
              stopCalculationAnimation(result);

              // –ü–æ–∫–∞–∑–∞—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
              displayCalculationResult(result);
            } else {
              // –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –±–µ–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
              stopCalculationAnimation();
              document.getElementById(
                "calculationResult"
              ).innerHTML = `<div class="alert alert-error">–û—à–∏–±–∫–∞: ${result.error}</div>`;
            }
          } catch (error) {
            stopCalculationAnimation();
            document.getElementById(
              "calculationResult"
            ).innerHTML = `<div class="alert alert-error">–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ${error.message}</div>`;
          }
        });

      function displayCalculationResult(result) {
        let html = "";

        if (result.warning) {
          html += `<div class="alert alert-warning">${result.warning}</div>`;
        }

        html += `
                <div class="result-card">
                    <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–∞</h3>
                    <div class="result-value">–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –º–æ–¥—É–ª—å —É–ø—Ä—É–≥–æ—Å—Ç–∏: ${result.G_eff} –ú–ü–∞</div>
                    <p><strong>–ë–∞–∑–æ–≤—ã–π –º–æ–¥—É–ª—å:</strong> ${result.G_baseline} –ú–ü–∞</p>
                    <p><strong>–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π —É–≥–æ–ª:</strong> ${result.effective_angle}¬∞</p>
                    <p><strong>–ú–∞—Ç–µ—Ä–∏–∞–ª:</strong> ${result.material}</p>
                    <p><strong>–ü—Ä–µ–¥–µ–ª —ç–ª–∞—Å—Ç–∏—á–Ω–æ—Å—Ç–∏:</strong> ${result.elastic_limit}¬∞</p>
                    <p><strong>–£–≥–æ–ª —Ä–∞–∑—Ä—É—à–µ–Ω–∏—è:</strong> ${result.failure_angle}¬∞</p>
                    
                    <button class="btn btn-success" onclick="generateReport()">–°–∫–∞—á–∞—Ç—å –æ—Ç—á–µ—Ç</button>
                </div>
            `;

        document.getElementById("calculationResult").innerHTML = html;

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞
        if (result.graph) {
          document.getElementById(
            "graphContainer"
          ).innerHTML = `<div class="graph-container">
                        <h3>–ì—Ä–∞—Ñ–∏–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –º–æ–¥—É–ª—è —É–ø—Ä—É–≥–æ—Å—Ç–∏ –æ—Ç —É–≥–ª–∞ –ø–æ–≤–æ—Ä–æ—Ç–∞</h3>
                        <img src="data:image/png;base64,${result.graph}" alt="–ì—Ä–∞—Ñ–∏–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏">
                    </div>`;
        }
      }

      async function generateReport() {
        if (!lastCalculationData) {
          alert("–°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä–∞—Å—á–µ—Ç");
          return;
        }

        try {
          const response = await fetch("/api/report", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify(lastCalculationData),
          });

          if (response.ok) {
            const blob = await response.blob();
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement("a");
            a.style.display = "none";
            a.href = url;
            a.download = `torsion_report_${new Date()
              .toISOString()
              .slice(0, 10)}.docx`;
            document.body.appendChild(a);
            a.click();
            window.URL.revokeObjectURL(url);
          } else {
            alert("–û—à–∏–±–∫–∞ –ø—Ä–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–∞");
          }
        } catch (error) {
          alert("–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: " + error.message);
        }
      }

      async function loadDatabase() {
        document.getElementById("databaseContent").innerHTML =
          '<div class="loading"><div class="spinner"></div>–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>';

        try {
          const response = await fetch("/api/database");
          const result = await response.json();

          if (result.success) {
            displayDatabase(result.data);
          } else {
            document.getElementById(
              "databaseContent"
            ).innerHTML = `<div class="alert alert-error">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: ${result.error}</div>`;
          }
        } catch (error) {
          document.getElementById(
            "databaseContent"
          ).innerHTML = `<div class="alert alert-error">–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ${error.message}</div>`;
        }
      }

      function displayDatabase(data) {
        if (data.length === 0) {
          document.getElementById("databaseContent").innerHTML =
            '<div class="alert alert-warning">–ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</div>';
          return;
        }

        let html = `
                <table class="database-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>–ú–∞—Ç–µ—Ä–∏–∞–ª</th>
                            <th>L (–º–º)</th>
                            <th>d (–º–º)</th>
                            <th>M (–ù¬∑–º–º)</th>
                            <th>Œ∏ (¬∞)</th>
                            <th>G (–ú–ü–∞)</th>
                            <th>–í—Ä–µ–º—è</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

        data.forEach((row) => {
          html += `
                    <tr>
                        <td>${row.id}</td>
                        <td>${row.material}</td>
                        <td>${row.L}</td>
                        <td>${row.diameter}</td>
                        <td>${row.moment}</td>
                        <td>${row.angle}</td>
                        <td>${row.G}</td>
                        <td>${row.timestamp}</td>
                    </tr>
                `;
        });

        html += "</tbody></table>";
        document.getElementById("databaseContent").innerHTML = html;
      }

      function addDataPoint() {
        const container = document.getElementById("dataPoints");
        const div = document.createElement("div");
        div.className = "data-row";
        div.innerHTML = `
                <input type="number" placeholder="–ú–æ–º–µ–Ω—Ç (–ù¬∑–º–º)" step="0.01" class="moment-input">
                <input type="number" placeholder="–£–≥–æ–ª (¬∞)" step="0.01" class="angle-input">
                <button type="button" class="remove-btn" onclick="removeDataPoint(this)">√ó</button>
            `;
        container.appendChild(div);
      }

      function removeDataPoint(button) {
        const container = document.getElementById("dataPoints");
        if (container.children.length > 1) {
          button.parentElement.remove();
        }
      }

      async function analyzeExperiment() {
        const L = parseFloat(document.getElementById("exp_length").value);
        const diameter = parseFloat(
          document.getElementById("exp_diameter").value
        );

        if (!L || !diameter || L <= 0 || diameter <= 0) {
          alert("–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª–∏–Ω—ã –∏ –¥–∏–∞–º–µ—Ç—Ä–∞");
          return;
        }

        const momentInputs = document.querySelectorAll(".moment-input");
        const angleInputs = document.querySelectorAll(".angle-input");
        const data = [];

        for (let i = 0; i < momentInputs.length; i++) {
          const moment = parseFloat(momentInputs[i].value);
          const angle = parseFloat(angleInputs[i].value);

          if (moment && angle && moment > 0 && angle > 0) {
            data.push([moment, angle]);
          }
        }

        if (data.length < 3) {
          alert("–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –º–∏–Ω–∏–º—É–º 3 –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ç–æ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö");
          return;
        }

        try {
          const response = await fetch("/api/experiment", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
            },
            body: JSON.stringify({ data, L, diameter }),
          });

          const result = await response.json();

          if (result.success) {
            displayExperimentResult(result.results);
          } else {
            document.getElementById(
              "experimentResult"
            ).innerHTML = `<div class="alert alert-error">–û—à–∏–±–∫–∞: ${result.error}</div>`;
          }
        } catch (error) {
          document.getElementById(
            "experimentResult"
          ).innerHTML = `<div class="alert alert-error">–û—à–∏–±–∫–∞ —Å–µ—Ç–∏: ${error.message}</div>`;
        }
      }

      function displayExperimentResult(results) {
        const html = `
                <div class="result-card">
                    <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞</h3>
                    <p><strong>–ú–æ–¥—É–ª—å G (–ª–∏–Ω–µ–π–Ω—ã–π —É—á–∞—Å—Ç–æ–∫):</strong> ${
                      results.G_linear || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω"
                    } –ú–ü–∞</p>
                    <p><strong>–ü—Ä–µ–¥–µ–ª –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ (œÑ–ø—Ü):</strong> ${
                      results.œÑ_pcz || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω"
                    } –ú–ü–∞</p>
                    <p><strong>–ü—Ä–µ–¥–µ–ª —Ç–µ–∫—É—á–µ—Å—Ç–∏ –ø–æ 0.3% —Å–¥–≤–∏–≥—É:</strong> ${
                      results.œÑ_0_3 || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω"
                    } –ú–ü–∞</p>
                    <p><strong>–ü—Ä–µ–¥–µ–ª –ø—Ä–æ—á–Ω–æ—Å—Ç–∏ (œÑmax):</strong> ${
                      results.œÑ_max || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω"
                    } –ú–ü–∞</p>
                    <p><strong>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π —Å–¥–≤–∏–≥ (Œ≥max):</strong> ${
                      results.Œ≥_max || "–ù–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω"
                    }</p>
                </div>
            `;

        document.getElementById("experimentResult").innerHTML = html;
      }

      // –ó–∞–≥—Ä—É–∑–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      document.addEventListener("DOMContentLoaded", function () {
        loadDatabase();
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
        initTorsionAnimation("animationCanvas");
      });

      // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
      let examplesData = [];

      async function loadExamples() {
        try {
          const response = await fetch("/api/examples");
          const result = await response.json();
          if (result.success) {
            examplesData = result.examples;
          }
        } catch (error) {
          console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–º–µ—Ä–æ–≤:", error);
        }
      }

      function showExamplesModal() {
        if (examplesData.length === 0) {
          loadExamples().then(() => displayExamplesModal());
        } else {
          displayExamplesModal();
        }
      }

      function displayExamplesModal() {
        const modal = document.createElement("div");
        modal.id = "examplesModal";
        modal.style.cssText = `
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 0, 0.7);
          display: flex;
          justify-content: center;
          align-items: center;
          z-index: 1000;
        `;

        let examplesHTML = `
          <div style="background: white; border-radius: 15px; padding: 30px; max-width: 700px; max-height: 80vh; overflow-y: auto;">
            <h2 style="margin-bottom: 20px; color: #2c3e50;">üìö –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä —Ä–∞—Å—á–µ—Ç–∞</h2>
            <div style="display: grid; gap: 15px;">
        `;

        examplesData.forEach((example, index) => {
          examplesHTML += `
            <div class="example-card" onclick="loadExample(${index})" style="
              padding: 15px;
              border: 2px solid #e1e5e9;
              border-radius: 10px;
              cursor: pointer;
              transition: all 0.3s;
            " onmouseover="this.style.borderColor='#3498db'; this.style.backgroundColor='#f8f9fa';"
               onmouseout="this.style.borderColor='#e1e5e9'; this.style.backgroundColor='white';">
              <h4 style="color: #3498db; margin-bottom: 10px;">${example.name}</h4>
              <p style="color: #7f8c8d; font-size: 14px; margin-bottom: 10px;">${example.description}</p>
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 13px;">
                <div><strong>–ú–∞—Ç–µ—Ä–∏–∞–ª:</strong> ${example.material}</div>
                <div><strong>L:</strong> ${example.length} –º–º</div>
                <div><strong>d:</strong> ${example.diameter} –º–º</div>
                <div><strong>M:</strong> ${example.moment} –ù¬∑–º–º</div>
                <div><strong>Œ∏:</strong> ${example.angle}¬∞</div>
                <div><strong>–û–∂–∏–¥–∞–µ–º—ã–π G:</strong> ${example.expected_G_eff} –ú–ü–∞</div>
              </div>
            </div>
          `;
        });

        examplesHTML += `
            </div>
            <button onclick="closeExamplesModal()" class="btn btn-secondary" style="margin-top: 20px; width: 100%;">
              –ó–∞–∫—Ä—ã—Ç—å
            </button>
          </div>
        `;

        modal.innerHTML = examplesHTML;
        document.body.appendChild(modal);
      }

      function closeExamplesModal() {
        const modal = document.getElementById("examplesModal");
        if (modal) {
          modal.remove();
        }
      }

      function loadExample(index) {
        const example = examplesData[index];

        // –ó–∞–ø–æ–ª–Ω—è–µ–º —Ñ–æ—Ä–º—É
        document.getElementById("material").value = example.material;
        document.getElementById("length").value = example.length;
        document.getElementById("diameter").value = example.diameter;
        document.getElementById("moment").value = example.moment;
        document.getElementById("angle").value = example.angle;

        // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
        closeExamplesModal();

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        const notification = document.createElement("div");
        notification.className = "alert alert-success";
        notification.style.cssText = `
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 2000;
          animation: slideIn 0.5s ease-out;
        `;
        notification.innerHTML = `
          ‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω –ø—Ä–∏–º–µ—Ä: <strong>${example.name}</strong><br>
          <small>–ù–∞–∂–º–∏—Ç–µ "–†–∞—Å—Å—á–∏—Ç–∞—Ç—å" –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–∞—Å—á–µ—Ç–∞</small>
        `;
        document.body.appendChild(notification);

        setTimeout(() => {
          notification.style.animation = "slideOut 0.5s ease-out";
          setTimeout(() => notification.remove(), 500);
        }, 3000);
      }

      // –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      document.addEventListener("DOMContentLoaded", function () {
        loadExamples();
      });
    </script>
    <script src="/static/torsion_animation.js"></script>
  </body>
</html>
