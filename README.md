# Лабораторная работа №4

## Определение модуля упругости второго рода при кручении стали, чугуна, дерева

**Авторы:** Коваленко Кирилл, Артем Иокерс  
**Группа:** ИН-31

## Описание

Данная лабораторная работа предназначена для экспериментального определения модуля упругости второго рода (модуля сдвига) различных материалов при кручении. Программа поддерживает как веб-интерфейс, так и desktop GUI.

## Возможности

- **Расчет модуля упругости** для стали, чугуна и дерева
- **Построение графиков** зависимости эффективного модуля от угла поворота
- **Анализ экспериментальных данных** с определением характеристик материала
- **Генерация отчетов** в формате DOCX
- **База данных** для сохранения результатов расчетов
- **Веб-интерфейс** для удобной работы на любой платформе

## Установка и запуск

### 1. Установка зависимостей

```bash
pip install -r requirements.txt
```

### 2. Запуск программы

#### Основной запуск (веб-приложение):

```bash
python main.py
```

После запуска автоматически откроется браузер (порт подбирается автоматически, обычно 8080)

#### Альтернативные варианты запуска:

**Только GUI (Tkinter):**

```bash
python main.py --gui
```

**Только веб-приложение:**

```bash
python web_app.py
```

## Использование

### Веб-интерфейс

1. **Расчет модуля упругости:**

   - Выберите материал
   - Введите параметры образца (длина, диаметр)
   - Укажите крутящий момент и угол поворота
   - Нажмите "Рассчитать"

2. **Анализ эксперимента:**

   - Введите экспериментальные данные (момент-угол)
   - Получите характеристики материала

3. **База данных:**

   - Просмотр всех сохраненных результатов
   - Автоматическое сохранение каждого расчета

4. **Генерация отчета:**
   - Скачивание отчета в формате DOCX с графиками

### Теоретические основы

Модуль упругости второго рода определяется по формуле:

```
G = (M × L) / (J × θ)
```

где:

- `M` - крутящий момент (Н·мм)
- `L` - длина образца (мм)
- `J` - полярный момент инерции (мм⁴)
- `θ` - угол поворота (радианы)

Учет материала: `G_эфф = k × G`

Коэффициенты материалов:

- Сталь: k = 1.0, θ*пред = 15°, θ*разр = 30°
- Чугун: k = 0.95, θ*пред = 10°, θ*разр = 20°
- Дерево: k = 0.80, θ*пред = 8°, θ*разр = 16°

## Структура проекта

```
torsion/
├── main.py              # Основной файл запуска
├── web_app.py           # Веб-приложение Flask
├── calculator.py        # Расчетные функции
├── graph.py             # Построение графиков
├── report_docx.py       # Генерация отчетов
├── db_manager.py        # Работа с базой данных
├── animation.py         # Анимация (для GUI)
├── templates/           # HTML шаблоны
│   └── index.html
├── data/                # База данных
│   └── results.db
├── requirements.txt     # Зависимости
└── README.md           # Документация
```

## Технические требования

- Python 3.7+
- Операционная система: Windows, macOS, Linux
- Браузер: любой современный (Chrome, Firefox, Safari, Edge)

## Решение проблем

**Ошибка "Address already in use" (порт занят):**

```bash
# Используйте умный запуск
python launch.py

# Или отключите AirPlay Receiver на macOS:
# Системные настройки → Основные → AirDrop и Handoff → AirPlay Receiver (выключить)
```

**Ошибка "Flask не найден":**

```bash
pip install flask flask-cors
```

**Проблемы с matplotlib:**

```bash
pip install matplotlib --upgrade
```

**Ошибки с правами доступа:**

- На macOS/Linux: `sudo pip install -r requirements.txt`
- Используйте виртуальное окружение

**Проблемы с портами на macOS:**

На macOS порт 5000 часто занят службой AirPlay. Приложение автоматически использует порты 8080-8082.

## Лицензия

Данный проект выполнен в рамках учебной программы.  
Все права защищены © 2025 Коваленко Кирилл, Артем Иокерс, группа ИН-31
